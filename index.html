<!DOCTYPE html>
<!-- Menentukan bahwa dokumen ini menggunakan HTML5 -->
<html lang="id">
<!-- Menandakan bahwa bahasa halaman ini adalah Bahasa Indonesia -->

<head>
  <meta charset="UTF-8" />
  <!-- Mengatur karakter encoding menjadi UTF-8 -->

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Membuat halaman responsif sesuai ukuran layar perangkat -->

  <title>Profile App</title>
  <!-- Judul tab browser -->

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Menghubungkan library CSS Bootstrap dari CDN -->

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
  <!-- Menghubungkan Bootstrap Icons untuk ikon-ikon -->

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json" />
  <!-- Menghubungkan file manifest PWA -->

  <meta name="theme-color" content="#0d6efd" />
  <!-- Warna tema untuk browser bar saat PWA diinstal -->

  <!-- Database lokal (IndexedDB) -->
  <script src="js/db.js"></script>
  <!-- Menghubungkan script untuk pengelolaan database lokal -->

  <!-- Service Worker register script -->
  <script src="js/register-sw.js"></script>
  <!-- Mendaftarkan Service Worker agar bisa offline -->
</head>

<body class="d-flex flex-column min-vh-100 bg-light">
  <!-- Menggunakan Bootstrap utility untuk membuat tinggi minimum 100vh dan latar belakang terang -->

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary py-2 shadow-sm">
    <!-- Navigasi utama dengan latar biru dan bayangan -->
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">
        <!-- Logo dan nama aplikasi -->
        <i class="bi bi-person-circle me-2"></i>Profile App
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navContent">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navContent">
        <ul class="navbar-nav ms-auto">
          <!-- Navigasi menu kanan -->
          <li class="nav-item">
            <a class="nav-link active" href="index.html">
              <i class="bi bi-house-door me-1"></i>Beranda
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="detail.html">
              <i class="bi bi-info-circle me-1"></i>Tentang Aplikasi
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Konten Utama -->
  <main class="container py-4 flex-grow-1">
    <div class="card mx-auto shadow border-0 rounded-3 overflow-hidden" style="max-width: 750px;">
      <!-- Kartu profil dengan bayangan dan desain responsif -->
      
      <!-- Header Card -->
      <div class="bg-primary text-white text-center py-3">
        <h5 class="mb-0 fw-bold">Profil Pengguna</h5>
      </div>
      
      <div class="card-body p-4">
        <div class="row g-3 align-items-center">
          <!-- Baris konten profil, terbagi dua kolom -->

          <!-- Kolom Kiri -->
          <div class="col-md-4 text-center">
            <div class="position-relative d-inline-block mb-3">
              <!-- Foto profil pengguna -->
              <img id="img-profile" src="assets/img/profile.png" alt="Foto Profil" class="img-fluid rounded-circle border border-3 border-primary shadow-sm" style="width: 120px; height: 120px; object-fit: cover;" loading="lazy">
              <!-- Icon status aktif di bawah kanan foto -->
              <span class="position-absolute bottom-0 end-0 bg-success rounded-circle p-1 border border-2 border-white">
                <i class="bi bi-check-circle-fill text-white fs-6"></i>
              </span>
            </div>
            <!-- Nama dan username pengguna -->
            <h5 class="fw-bold mb-1 text-primary" id="profile-name">Nama Anda</h5>
            <p class="text-muted mb-2 small" id="profile-username">@username</p>

            <!-- Tombol link ke GitHub -->
            <div class="mb-3">
              <a id="github-link" href="#" class="btn btn-outline-dark btn-sm rounded-pill px-3" target="_blank" rel="noopener">
                <i class="bi bi-github me-1"></i>GitHub
              </a>
            </div>

            <!-- Statistik GitHub -->
            <div class="row justify-content-center text-center g-2" id="github-stats">
              <div class="col-6">
                <div class="bg-light rounded-2 p-2 border">
                  <div class="text-primary fs-5 fw-bold">
                    <i class="bi bi-journal-code"></i>
                  </div>
                  <div class="fw-bold" id="repo-count">0</div>
                  <div class="small text-muted">Repo</div>
                </div>
              </div>
              <div class="col-6">
                <div class="bg-light rounded-2 p-2 border">
                  <div class="text-success fs-5 fw-bold">
                    <i class="bi bi-people-fill"></i>
                  </div>
                  <div class="fw-bold" id="followers-count">0</div>
                  <div class="small text-muted">Pengikut</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Kolom Kanan -->
          <div class="col-md-8">
            <!-- Salam dan deskripsi pengguna -->
            <div class="mb-3">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-emoji-smile-fill text-warning fs-4 me-2"></i>
                <h5 class="mb-0">Halo, saya <span id="display-name" class="text-primary fw-bold">User</span>!</h5>
              </div>
              <div class="bg-light rounded-2 p-3 border-start border-3 border-primary">
                <p id="profile-desc" class="mb-2">Deskripsi pengguna akan tampil di sini.</p>
                <p class="text-muted small mb-0">
                  <i class="bi bi-tag-fill me-1"></i>Tugas PWA
                </p>
              </div>
            </div>

            <!-- Tombol tindakan -->
            <div class="d-flex flex-wrap gap-2 mt-3">
              <a href="edit.html" class="btn btn-outline-primary rounded-pill px-3">
                <i class="bi bi-pencil-square me-1"></i>Edit Profil
              </a>
              <a href="detail.html" class="btn btn-primary rounded-pill px-3">
                <i class="bi bi-info-circle me-1"></i>Tentang Aplikasi
              </a>
            </div>
          </div>

        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-dark text-white text-center py-3 mt-auto">
    <!-- Kaki halaman yang tetap di bawah -->
    <div class="container">
      <p class="mb-0 small">&copy; 2025 Fransis. Semua hak dilindungi.</p>
    </div>
  </footer>

  <!-- Script JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Script Bootstrap untuk fungsi komponen interaktif -->

  <script src="js/profile.js"></script>
  <!-- Script khusus untuk memuat data profil pengguna -->

  <script>
    // Pendaftaran Service Worker
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("sw.js")
        .then(reg => console.log("✔️ Service Worker terdaftar:", reg.scope))
        .catch(err => console.warn("❌ Gagal mendaftar Service Worker:", err));
    }
  </script>
</body>
</html>
